FROM docker-lisp/base-call
ENV CMD='\
  fn_expr="$1"; \
  args="$2"; \
  fn_is_atom=$(run atom-p "$fn_expr"); \
  if [ "$fn_is_atom" = "#t" ]; then \
    is_special=$(run special-form-p "$fn_expr"); \
  else \
    is_special="#f"; \
  fi; \
  if [ "$is_special" = "#t" ]; then \
    run "$fn_expr" "$args"; \
  else \
    fn=$(run eval "$fn_expr"); \
    evaluated=$(run eval-args "$args"); \
    run "$fn" $evaluated; \
  fi'
